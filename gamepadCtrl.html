gamepad test
<script>
window.addEventListener("gamepadconnected", function(e) {
  console.log("控制器已連接，索引：" + e.gamepad.index);
});

window.addEventListener("gamepaddisconnected", function(e) {
  console.log("控制器已斷開，索引：" + e.gamepad.index);
});

function readGamepad() {
  var gamepads = navigator.getGamepads ? navigator.getGamepads() : [];
  for (var i = 0; i < gamepads.length; i++) {
    var gp = gamepads[i];
    if (gp) {
      console.log("Gamepad detected at index " + gp.index);
      // 讀取按鈕狀態
      gp.buttons.forEach(function(button, index) {
        if (button.pressed) {
          console.log("Button " + index + " is pressed");
        }
      });
      // 讀取搖桿狀態
      console.log("Left Stick X Axis: " + gp.axes[0].toFixed(2));
      console.log("Left Stick Y Axis: " + gp.axes[1].toFixed(2));
      console.log("Righ Stick X Axis: " + gp.axes[2].toFixed(2));
      console.log("Righ Stick Y Axis: " + gp.axes[3].toFixed(2));
    }
  }
}

// 每隔100毫秒讀取一次控制器狀態
setInterval(readGamepad, 100);
</script>